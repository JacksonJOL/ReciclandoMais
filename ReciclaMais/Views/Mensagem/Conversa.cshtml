@model IEnumerable<ReciclaMais.Models.Mensagem>

@{
    ViewData["Title"] = "Conversa";
}

<h2>Conversa</h2>

<div class="mensagens">
    @foreach (var mensagem in Model)
    {
        <div class="mensagem">
            <strong>@mensagem.Remetente.Nome:</strong> @mensagem.Conteudo
            <br />
            <small>@mensagem.DataEnvio</small>
        </div>
    }
</div>

<hr />

<form asp-action="EnviarMensagem" method="post">
    <input type="hidden" name="destinatarioId" value="@ViewBag.UsuarioDestinoId" />
    <textarea name="conteudo" placeholder="Digite sua mensagem" required></textarea>
    <button type="submit">Enviar</button>
</form>
@if (TempData["MensagemSucesso"] != null)
{
    <div class="alert alert-success">
        @TempData["MensagemSucesso"]
    </div>
}
<div>
    <textarea name="conteudo" placeholder="Digite sua mensagem" required></textarea>
</div>

<button type="submit">Enviar</button>